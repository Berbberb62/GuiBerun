-- Create the Terminate button
local TerminateButton = Instance.new("TextButton")
TerminateButton.Size = UDim2.new(0, 30, 0, 30)
TerminateButton.Position = UDim2.new(1, -30, 0, 0)
TerminateButton.Text = "X"
TerminateButton.TextColor3 = Color3.fromRGB(255, 255, 255)
TerminateButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0) -- Set to black
TerminateButton.BackgroundTransparency = 1
TerminateButton.Font = Enum.Font.SourceSans
TerminateButton.TextSize = 16
TerminateButton.Parent = ButtonContainer

-- Minimize button functionality
MinimizeButton.MouseButton1Click:Connect(function()
    if MainFrame.Size == UDim2.new(0, 300, 0, 30) then
        MainFrame.Size = UDim2.new(0, 300, 0, 200)
        ScrollingFrame.Visible = true
    else
        MainFrame.Size = UDim2.new(0, 300, 0, 30)
        ScrollingFrame.Visible = false
    end
end)

-- Terminate button functionality
TerminateButton.MouseButton1Click:Connect(function()
    ScreenGui:Destroy()
end)

-- Scrolling Frame for Toggles
local ScrollingFrame = Instance.new("ScrollingFrame")
ScrollingFrame.Size = UDim2.new(1, 0, 1, -30)
ScrollingFrame.Position = UDim2.new(0, 0, 0, 30)
ScrollingFrame.BackgroundTransparency = 1
ScrollingFrame.ScrollBarThickness = 8
ScrollingFrame.CanvasSize = UDim2.new(0, 0, 0, 0)
ScrollingFrame.Parent = MainFrame

-- Add corner radius to the ScrollingFrame as well
local cornerScrollingFrame = Instance.new("UICorner")
cornerScrollingFrame.CornerRadius = UDim.new(0, 10)
cornerScrollingFrame.Parent = ScrollingFrame

local toggleYOffset = 0

-- Function to create individual checkable toggles
local function createToggle(parent, actionName, actionFunc)
    local ToggleFrame = Instance.new("Frame")
    ToggleFrame.Size = UDim2.new(1, -20, 0, 30)
    ToggleFrame.Position = UDim2.new(0, 10, 0, toggleYOffset)
    ToggleFrame.BackgroundTransparency = 1
    ToggleFrame.Parent = parent

    local ToggleText = Instance.new("TextLabel")
    ToggleText.Size = UDim2.new(0.7, 0, 1, 0)
    ToggleText.BackgroundTransparency = 1
    ToggleText.Text = actionName
    ToggleText.TextColor3 = Color3.fromRGB(255, 255, 255) -- White text for contrast
    ToggleText.Font = Enum.Font.SourceSans
    ToggleText.TextSize = 16
    ToggleText.Parent = ToggleFrame

    local ToggleCheckbox = Instance.new("TextButton")
    ToggleCheckbox.Size = UDim2.new(0.3, 0, 1, 0)
    ToggleCheckbox.Position = UDim2.new(0.7, 0, 0, 0)
    ToggleCheckbox.BackgroundColor3 = Color3.fromRGB(0, 0, 0) -- Set to black
    ToggleCheckbox.TextColor3 = Color3.fromRGB(255, 255, 255) -- White text for "checked"
    ToggleCheckbox.Text = "[ ]"
    ToggleCheckbox.Font = Enum.Font.SourceSans
    ToggleCheckbox.TextSize = 16
    ToggleCheckbox.BorderSizePixel = 0 -- Remove the border line
    ToggleCheckbox.Parent = ToggleFrame

    local isChecked = false
    ToggleCheckbox.MouseButton1Click:Connect(function()
        isChecked = not isChecked
        ToggleCheckbox.Text = isChecked and "[X]" or "[ ]"
        while isChecked and task.wait() do
            actionFunc()
        end
    end)

    toggleYOffset = toggleYOffset + 35
end
